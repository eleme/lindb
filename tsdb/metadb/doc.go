package metadb

/*
Metric metadata storage format using bbolt:

+-------------+
| root Bucket |
+------+------+
       |       +----------------+
       +------>+ ns root bucket +-----> metric id global sequence in bucket
       |       +-------+--------+
       |               |         +-------------+
       |               +-------->+ ns bucket 1 |
       |               |         +------+------+
       |               |                |        +-------------------+
       |               |                +------->+ metric name 1->id |
       |               |                |        +-------------------+
       |               |                |        +-------------------+
       |               |                +------->+ metric name n->id |
       |               |                         +-------------------+
       |               |         +-------------+
       |               +-------->+ ns bucket 2 |
       |               |         +------+------+
       |               |                |        +-------------------+
       |               |                +------->+ metric name 1->id |
       |               |                |        +-------------------+
       |               |                |        +-------------------+
       |               |                +------->+ metric name n->id |
       |               |                         +-------------------+
       |               |         +-------------+
       |               +-------->+ ns bucket n |
       |                         +-------------+
       |      +--------------------+
       +----->+ metric root bucket +------> tag id global sequence in bucket
              +---------+----------+
                        |            +-----------------+
                        +----------->+ metric bucket 1 |
                        |            +--------+--------+
                        |                     |         +----------------+
                        |                     +-------->+ tag key bucket |
                        |                     |         +-------+--------+
                        |                     |                 |          +---------------+
                        |                     |                 +--------->+ tag key 1->id |
                        |                     |                 |          +---------------+
                        |                     |                 |          +---------------+
                        |                     |                 +--------->+ tag key n->id |
                        |                     |                            +---------------+
                        |                     |         +--------------+
                        |                     +-------->+ field bucket +-------> field id sequence of metric level
                        |                               +------+-------+
                        |                                      |        +------------------------+
                        |                                      +------->+ field name->field meta |
                        |                                      |        +------------------------+
                        |                                      |        +------------------------+
                        |                                      +------->+ field name->field meta |
                        |                                               +------------------------+
                        |            +-----------------+
                        +----------->+ metric bucket n |
                                     +--------+--------+
*/
